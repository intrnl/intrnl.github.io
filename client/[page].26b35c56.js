import{S as t,i as e,s,e as a,o as r,b as o,d as n,p as l,f as i,g as c,j as f,q as h,r as p,w as d,h as u,H as m,I as $,k as g,F as v,l as E,m as P,t as x,a as w,n as y,C as D,J as b,D as j,K as A}from"./npm.svelte.6b7bef08.js";import{D as L}from"./client.202edb9f.js";function H(t){let e,s,p=t[0].description+"";return{c(){e=a("p"),s=r(p)},l(t){e=o(t,"P",{});var a=n(e);s=l(a,p),a.forEach(i)},m(t,a){c(t,e,a),f(e,s)},p(t,e){1&e&&p!==(p=t[0].description+"")&&h(s,p)},d(t){t&&i(e)}}}function I(t){let e,s,$,g,v,E,P,x,w,y,D,b=t[0].title+"",j=t[0].description&&H(t);return{c(){e=a("a"),s=a("h2"),$=r(b),v=p(),j&&j.c(),E=p(),P=a("small"),x=r("Posted on "),w=a("time"),y=r(t[1]),this.h()},l(a){e=o(a,"A",{href:!0,rel:!0});var r=n(e);s=o(r,"H2",{});var c=n(s);$=l(c,b),c.forEach(i),r.forEach(i),v=d(a),j&&j.l(a),E=d(a),P=o(a,"SMALL",{});var f=n(P);x=l(f,"Posted on "),w=o(f,"TIME",{datetime:!0});var h=n(w);y=l(h,t[1]),h.forEach(i),f.forEach(i),this.h()},h(){u(e,"href",g="/posts/"+t[0].id),u(e,"rel","prefetch"),u(w,"datetime",D=t[0].date)},m(t,a){c(t,e,a),f(e,s),f(s,$),c(t,v,a),j&&j.m(t,a),c(t,E,a),c(t,P,a),f(P,x),f(P,w),f(w,y)},p(t,[s]){1&s&&b!==(b=t[0].title+"")&&h($,b),1&s&&g!==(g="/posts/"+t[0].id)&&u(e,"href",g),t[0].description?j?j.p(t,s):(j=H(t),j.c(),j.m(E.parentNode,E)):j&&(j.d(1),j=null),2&s&&h(y,t[1]),1&s&&D!==(D=t[0].date)&&u(w,"datetime",D)},i:m,o:m,d(t){t&&i(e),t&&i(v),j&&j.d(t),t&&i(E),t&&i(P)}}}function k(t,e,s){let{post:a}=e,r=a.date;return $(()=>{s(1,r=new Date(r).toLocaleDateString())}),t.$$set=t=>{"post"in t&&s(0,a=t.post)},[a,r]}class M extends t{constructor(t){super(),e(this,t,k,I,s,{post:0})}}function N(t,e,s){const a=t.slice();return a[5]=e[s],a}function S(t){let e,s,h;return{c(){e=a("a"),s=r("Previous"),this.h()},l(t){e=o(t,"A",{href:!0,rel:!0});var a=n(e);s=l(a,"Previous"),a.forEach(i),this.h()},h(){u(e,"href",h="/posts/page/"+(t[0]-1)),u(e,"rel","prefetch")},m(t,a){c(t,e,a),f(e,s)},p(t,s){1&s&&h!==(h="/posts/page/"+(t[0]-1))&&u(e,"href",h)},d(t){t&&i(e)}}}function q(t){let e,s,h;return{c(){e=a("a"),s=r("Next"),this.h()},l(t){e=o(t,"A",{href:!0,rel:!0});var a=n(e);s=l(a,"Next"),a.forEach(i),this.h()},h(){u(e,"href",h="/posts/page/"+(t[0]+1)),u(e,"rel","prefetch")},m(t,a){c(t,e,a),f(e,s)},p(t,s){1&s&&h!==(h="/posts/page/"+(t[0]+1))&&u(e,"href",h)},d(t){t&&i(e)}}}function C(t,e){let s,r,l,h;return l=new M({props:{post:e[5]}}),{key:t,first:null,c(){s=a("li"),r=a("header"),g(l.$$.fragment),this.h()},l(t){s=o(t,"LI",{role:!0});var e=n(s);r=o(e,"HEADER",{});var a=n(r);E(l.$$.fragment,a),a.forEach(i),e.forEach(i),this.h()},h(){u(s,"role","article"),this.first=s},m(t,e){c(t,s,e),f(s,r),P(l,r,null),h=!0},p(t,e){const s={};8&e&&(s.post=t[5]),l.$set(s)},i(t){h||(x(l.$$.fragment,t),h=!0)},o(t){w(l.$$.fragment,t),h=!1},d(t){t&&i(s),y(l)}}}function F(t){let e,s,u,m,$,g,v,E,P=[],y=new Map,L=t[1]&&S(t),H=t[2]&&q(t),I=t[3];const k=t=>t[5].id;for(let e=0;e<I.length;e+=1){let s=N(t,I,e),a=k(s);y.set(a,P[e]=C(a,s))}return{c(){e=a("h1"),s=r("Posts - Page "),u=r(t[0]),m=a("div"),L&&L.c(),$=p(),H&&H.c(),g=p(),v=a("ul");for(let t=0;t<P.length;t+=1)P[t].c()},l(a){e=o(a,"H1",{});var r=n(e);s=l(r,"Posts - Page "),u=l(r,t[0]),r.forEach(i),m=o(a,"DIV",{});var c=n(m);L&&L.l(c),$=d(c),H&&H.l(c),g=d(c),c.forEach(i),v=o(a,"UL",{});var f=n(v);for(let t=0;t<P.length;t+=1)P[t].l(f);f.forEach(i)},m(t,a){c(t,e,a),f(e,s),f(e,u),c(t,m,a),L&&L.m(m,null),f(m,$),H&&H.m(m,null),f(m,g),c(t,v,a);for(let t=0;t<P.length;t+=1)P[t].m(v,null);E=!0},p(t,e){if((!E||1&e)&&h(u,t[0]),t[1]?L?L.p(t,e):(L=S(t),L.c(),L.m(m,$)):L&&(L.d(1),L=null),t[2]?H?H.p(t,e):(H=q(t),H.c(),H.m(m,g)):H&&(H.d(1),H=null),8&e){const s=t[3];D(),P=b(P,e,k,1,t,s,y,v,A,C,null,N),j()}},i(t){if(!E){for(let t=0;t<I.length;t+=1)x(P[t]);E=!0}},o(t){for(let t=0;t<P.length;t+=1)w(P[t]);E=!1},d(t){t&&i(e),t&&i(m),L&&L.d(),H&&H.d(),t&&i(v);for(let t=0;t<P.length;t+=1)P[t].d()}}}function J(t){let e,s,a;return document.title=e="Posts - Page "+t[0]+" - ./intrnl",s=new L({props:{$$slots:{default:[F]},$$scope:{ctx:t}}}),{c(){g(s.$$.fragment)},l(t){v('[data-svelte="svelte-8ybfym"]',document.head).forEach(i),E(s.$$.fragment,t)},m(t,e){P(s,t,e),a=!0},p(t,[r]){(!a||1&r)&&e!==(e="Posts - Page "+t[0]+" - ./intrnl")&&(document.title=e);const o={};271&r&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(x(s.$$.fragment,t),a=!0)},o(t){w(s.$$.fragment,t),a=!1},d(t){y(s,t)}}}async function K({params:t}){let{page:e}=t,s=await this.fetch(`/posts/page/${e}.json`),a=await s.json();return s.ok?{data:a}:this.error(s.status,a.message)}function R(t,e,s){let a,r,o,n,{data:l}=e;return t.$$set=t=>{"data"in t&&s(4,l=t.data)},t.$$.update=()=>{16&t.$$.dirty&&s(0,({page:a,prev:r,next:o,items:n}=l),a,(s(1,r),s(4,l)),(s(2,o),s(4,l)),(s(3,n),s(4,l)))},[a,r,o,n,l]}export default class extends t{constructor(t){super(),e(this,t,R,J,s,{data:4})}}export{K as preload};
